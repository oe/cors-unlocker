import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as f}from"./index.DK-fsZOb.js";const w="modulepreload",j=function(l){return"/"+l},x={},k=function(m,c,p){let d=Promise.resolve();if(c&&c.length>0){let s=function(n){return Promise.all(n.map(r=>Promise.resolve(r).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),t=o?.nonce||o?.getAttribute("nonce");d=s(c.map(n=>{if(n=j(n),n in x)return;x[n]=!0;const r=n.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":w,r||(i.as="script"),i.crossOrigin="",i.href=n,t&&i.setAttribute("nonce",t),document.head.appendChild(i),r)return new Promise((g,v)=>{i.addEventListener("load",g),i.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})}))}function u(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return d.then(s=>{for(const o of s||[])o.status==="rejected"&&u(o.reason);return m().catch(u)})};let h=null;async function b(){if(h)return h;try{return typeof window<"u"?(h=await k(()=>import("./index.es.X4RuArRR.js"),[]),h):null}catch(l){return console.warn("CORS Unlocker package not available:",l),null}}function N({className:l=""}){const[m,c]=f.useState(null),[p,d]=f.useState(!0),[u,s]=f.useState(!1);f.useEffect(()=>{let t=!0;async function n(){try{const r=await b();if(!r||!t)return;const a=await r.isExtInstalled();t&&(c(a),a?setTimeout(()=>{t&&(d(!1),setTimeout(()=>{t&&(s(!0),setTimeout(()=>{t&&s(!1)},2e3))},300))},800):d(!1))}catch(r){console.warn("Failed to check extension installation:",r),t&&(c(!1),d(!1))}}return n(),()=>{t=!1}},[]);const o=async()=>{if(!m)try{const t=await b();t?.openStorePage?t.openStorePage():window.open("https://chromewebstore.google.com/detail/cors-unlocker/knhlkjdfmgkmelcjfnbbhpphkmjjacng","_blank")}catch(t){console.error("Failed to open store page:",t),window.open("https://chromewebstore.google.com/detail/cors-unlocker/knhlkjdfmgkmelcjfnbbhpphkmjjacng","_blank")}};return p?e.jsx("button",{disabled:!0,className:`inline-flex items-center px-8 py-4 text-lg font-semibold text-white bg-blue-600 rounded-2xl transition-all duration-300 ${l}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Checking..."})]})}):m?e.jsxs("button",{disabled:!0,className:`relative inline-flex items-center px-8 py-4 text-lg font-semibold text-white bg-green-600 rounded-2xl transition-all duration-700 transform ${u?"scale-110":"scale-100"} ${l}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:`w-5 h-5 transition-transform duration-700 ${u?"scale-125":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Extension Installed"})]}),u&&e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 w-3 h-3 bg-white rounded-full animate-ping opacity-75 transform -translate-x-1/2 -translate-y-1/2 animation-duration-1000"}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-white rounded-full animate-pulse opacity-60 animation-delay-300"}),e.jsx("div",{className:"absolute top-3/4 right-1/4 w-2 h-2 bg-white rounded-full animate-pulse opacity-60 animation-delay-600"}),e.jsx("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-white rounded-full animate-ping opacity-50 animation-delay-900"})]})]}):e.jsxs("button",{onClick:o,className:`relative group inline-flex items-center px-8 py-4 text-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-2xl transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer hover:shadow-blue-500/25 ${l}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{children:"Install Extension"})]}),e.jsx("div",{className:"absolute inset-0 bg-blue-400 rounded-2xl opacity-0 group-hover:opacity-20 transition-opacity duration-300 pointer-events-none"})]})}export{N as default};
