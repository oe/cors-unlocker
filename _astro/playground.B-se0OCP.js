import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as b}from"./index.DK-fsZOb.js";import o from"./index.es.BOhKKSM5.js";globalThis.appCors=o;console.log('%cuse `appCors` in console to test the API of "cors-unlocker"',"color: #0a0; font-size: 1.5em");function j(){const[s,t]=b.useState({isInstalled:!1,corsStatus:{enabled:!1,credentials:!1},status:"idle",isCurlMode:!1,requestForm:{method:"GET",url:"https://www.google.com/search?q=cors",curlCommand:"curl -X GET https://www.google.com/search?q=cors"},response:null,error:null,isCheckingExtension:!0,isTogglingCors:!1,errorMessage:null});return b.useEffect(()=>((async()=>{try{console.log("Checking extension status...");const l=await Promise.race([o.isExtInstalled().catch(()=>!1),new Promise(a=>setTimeout(()=>a(!1),3e3))]);if(!l)return t(a=>({...a,isCheckingExtension:!1}));console.log("Extension installed:",l);try{const a=await o.isEnabled();t(u=>({...u,isInstalled:l,corsStatus:a,errorMessage:null,isCheckingExtension:!1}))}catch(a){console.warn("Failed to get CORS status:",a),t(u=>({...u,errorMessage:a.message||"Failed to get CORS status",isInstalled:!0,isCheckingExtension:!1}));return}}catch(l){console.error("Failed to initialize extension status:",l),t(a=>({...a,isInstalled:!1,isCheckingExtension:!1,errorMessage:l instanceof Error?l.message:"Failed to check extension status"}))}})(),()=>{}),[]),{...s,setFormValue:(r,l)=>{t(a=>({...a,requestForm:{...a.requestForm,[r]:l}}))},doRequest:async()=>{if(s.status!=="loading")try{t(n=>({...n,status:"loading",error:null,response:null}));let r;if(s.isCurlMode){const[n,p]=w(s.requestForm.curlCommand);if(!n)throw new Error("Invalid cURL command: URL not found");r=f(n,p)}else{if(!s.requestForm.url)throw new Error("URL is required");r=f(s.requestForm.url,{method:s.requestForm.method})}const l=await r.next();if(l.done)return;t(n=>({...n,response:l.value,status:"partial"}));const a=await r.next(),u=typeof a.value=="string"?a.value:URL.createObjectURL(a.value);t(n=>({...n,response:n.response?{...n.response,content:u}:null,status:"success"}))}catch(r){t(l=>({...l,error:r,status:"error"}))}},toggleCors:async()=>{if(!(!s.isInstalled||s.isTogglingCors)){t(r=>({...r,isTogglingCors:!0,errorMessage:null}));try{if(console.log("Toggling CORS status...",s.corsStatus),s.corsStatus.enabled){await o.disable();const r=await o.isEnabled();t(l=>({...l,corsStatus:r}))}else{const r=await o.enable({reason:"Testing cross-origin requests in playground"});t(l=>({...l,corsStatus:r}))}}catch(r){t(l=>({...l,errorMessage:r?.message||"Failed to toggle CORS"}))}finally{t(r=>({...r,isTogglingCors:!1}))}}},toggleCorsCredentials:async()=>{if(!(!s.isInstalled||!s.corsStatus.enabled||s.isTogglingCors)){t(r=>({...r,isTogglingCors:!0,errorMessage:null}));try{const r=await o.enable({credentials:!s.corsStatus.credentials,reason:"Toggling credentials support in playground"});t(l=>({...l,corsStatus:r}))}catch(r){t(l=>({...l,errorMessage:r?.message||"Failed to toggle credentials"}))}finally{t(r=>({...r,isTogglingCors:!1}))}}},openExtensionStore:()=>{o.openStorePage()},clearError:()=>{t(r=>({...r,errorMessage:null}))},setIsCurlMode:r=>{t(l=>({...l,isCurlMode:r}))}}}async function*f(s,t){const i=await fetch(s,t),c=i.headers.get("content-type")||"",d=y(c);switch(yield{contentType:c,mediaType:d},d){case"text":yield await i.text();break;default:yield await i.blob();break}return!0}function y(s){if(!s)return"unknown";const t=s.toLowerCase();return t.startsWith("text/")||t.includes("json")||t.includes("javascript")||t.includes("xml")||t.includes("csv")?"text":t.startsWith("image/")?"image":t.startsWith("audio/")?"audio":t.startsWith("video/")?"video":"binary"}function w(s){const t=s.match(/curl\s+['"]?(https?:\/\/[^\s'"\\]+)['"]?/),i=s.match(/-X\s+(\w+)/i),c=[...s.matchAll(/-H\s+['"]?([^'"\n]+)['"]?/g)],d=s.match(/--data(?:-raw)?\s+['"]?([^'"\n]+)['"]?/),x={};return c.forEach(h=>{const[m,g]=h[1].split(/:\s*/);m&&g&&(x[m.trim()]=g.trim())}),[t?t[1]:"",{method:i?i[1].toUpperCase():"GET",headers:x,body:d?d[1]:null}]}const q=()=>{const s=j();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative overflow-hidden ",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-purple-50/20 to-indigo-50/30"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-to-br from-blue-200/20 to-purple-200/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-purple-200/20 to-indigo-200/20 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-semibold text-gray-900 mb-6 tracking-tight",children:["CORS Unlocker",e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Playground"})]}),e.jsxs("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto font-light leading-relaxed",children:["Test cross-origin requests with power and precision.",e.jsx("br",{}),"Experience seamless CORS management."]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ",children:[e.jsx(N,{vm:s}),e.jsxs("div",{className:"mt-16 grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx(C,{vm:s}),e.jsx(k,{vm:s})]})]})]})},N=({vm:s})=>s.isCheckingExtension?e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-gray-200/50 p-8 shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-gray-400 border-t-gray-900 rounded-full animate-spin"}),e.jsx("span",{className:"ml-4 text-gray-700 font-medium",children:"Checking extension status..."})]})}):s.isInstalled?e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-green-200/50 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Extension Active"}),e.jsx("p",{className:"text-gray-600 font-light",children:"CORS Unlocker is installed and ready to break barriers."})]})]}),e.jsx(v,{vm:s})]}),s.errorMessage&&e.jsx("div",{className:"mt-6 bg-red-50/80 backdrop-blur border border-red-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-red-800 text-sm font-medium",children:s.errorMessage}),e.jsx("button",{onClick:s.clearError,className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-100 rounded-lg transition-colors cursor-pointer",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}):e.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-red-200/50 p-8 shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:"Extension Required"}),e.jsx("p",{className:"text-gray-600 font-light",children:"Install CORS Unlocker to unlock cross-origin capabilities and test requests seamlessly."})]})]}),e.jsx("button",{onClick:s.openExtensionStore,className:"ml-6 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-full font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl cursor-pointer",children:"Install Extension"})]})}),v=({vm:s})=>e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mr-3",children:"CORS"}),e.jsx("button",{onClick:s.toggleCors,disabled:s.isTogglingCors,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${s.corsStatus?.enabled?"bg-blue-600":"bg-gray-300"} ${s.isTogglingCors?"opacity-50 cursor-not-allowed":"hover:scale-105 cursor-pointer"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform shadow-lg ${s.corsStatus?.enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mr-3",children:"Credentials"}),e.jsx("button",{onClick:s.toggleCorsCredentials,disabled:s.isTogglingCors||!s.corsStatus?.enabled,className:`relative inline-flex h-7 w-12 items-center rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${s.corsStatus?.credentials?"bg-blue-600":"bg-gray-300"} ${s.isTogglingCors||!s.corsStatus?.enabled?"opacity-50 cursor-not-allowed":"hover:scale-105 cursor-pointer"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform shadow-lg ${s.corsStatus?.credentials?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`h-3 w-3 rounded-full mr-3 shadow-sm ${s.corsStatus?.enabled?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.corsStatus?.enabled?"Active":"Inactive"})]})]}),C=({vm:s})=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-gray-200/50 p-8 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Request Configuration"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mr-3",children:"cURL Mode"}),e.jsx("input",{type:"checkbox",checked:s.isCurlMode,onChange:t=>s.setIsCurlMode(t.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2"})]})]}),s.isCurlMode?e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-4",children:"cURL Command"}),e.jsx("textarea",{placeholder:"curl -X GET https://www.google.com/search?q=cors",value:s.requestForm.curlCommand,onChange:t=>s.setFormValue("curlCommand",t.target.value),className:"w-full h-40 px-6 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm bg-gray-50/50 backdrop-blur transition-all duration-200"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-3",children:"Method"}),e.jsxs("select",{value:s.requestForm.method,onChange:t=>s.setFormValue("method",t.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50/50 backdrop-blur font-medium transition-all duration-200",children:[e.jsx("option",{value:"GET",children:"GET"}),e.jsx("option",{value:"POST",children:"POST"}),e.jsx("option",{value:"PUT",children:"PUT"}),e.jsx("option",{value:"DELETE",children:"DELETE"}),e.jsx("option",{value:"PATCH",children:"PATCH"})]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-900 mb-3",children:"URL"}),e.jsx("input",{type:"url",placeholder:"https://www.google.com/search?q=cors",value:s.requestForm.url,onChange:t=>s.setFormValue("url",t.target.value),className:"w-full px-6 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50/50 backdrop-blur transition-all duration-200"})]})]})}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:s.doRequest,disabled:s.status==="loading",className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-4 px-6 rounded-2xl transition-all duration-200 hover:scale-[1.02] disabled:hover:scale-100 shadow-lg hover:shadow-xl flex items-center justify-center cursor-pointer disabled:cursor-not-allowed",children:s.status==="loading"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Sending Request..."]}):"Send Request"})})]}),k=({vm:s})=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl border border-gray-200/50 p-8 shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-8",children:"Response"}),e.jsx("div",{className:"bg-gray-50/50 backdrop-blur rounded-2xl p-6 min-h-[400px] border border-gray-200/50",children:e.jsx(T,{vm:s})})]}),T=({vm:s})=>s.status==="idle"?e.jsx("div",{className:"flex items-center justify-center h-80 text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("p",{className:"text-lg font-medium text-gray-600",children:"Ready to test"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send a request to see the response here"})]})}):s.status==="loading"?e.jsx("div",{className:"flex items-center justify-center h-80",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Sending request..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please wait while we process your request"})]})}):s.status==="error"?e.jsx("div",{className:"flex items-center justify-center h-80",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("p",{className:"text-lg font-semibold text-red-600",children:"Request Failed"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 max-w-md",children:s.error?.message})]})}):s.status==="partial"?e.jsx("div",{className:"flex items-center justify-center h-80",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"animate-pulse mb-6",children:[e.jsx("div",{className:"h-3 bg-blue-200/60 rounded-full w-32 mx-auto mb-3"}),e.jsx("div",{className:"h-3 bg-blue-200/60 rounded-full w-24 mx-auto mb-3"}),e.jsx("div",{className:"h-3 bg-blue-200/60 rounded-full w-28 mx-auto"})]}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Processing response..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Analyzing the response data"})]})}):s.response?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Response Type: ",s.response.mediaType," (",s.response.contentType,")"]}),e.jsx(S,{response:s.response})]}):null,S=({response:s})=>{switch(s.mediaType){case"text":return e.jsxs("div",{className:"bg-white/50 backdrop-blur rounded-2xl border border-gray-200/50 p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Content-Type: ",s.contentType]}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(s.content),className:"text-sm text-blue-600 hover:text-blue-700 font-medium cursor-pointer",children:"Copy"})]}),e.jsx("pre",{className:"whitespace-pre-wrap break-words text-sm text-gray-800 max-h-96 overflow-auto font-mono leading-relaxed",children:s.content})]});case"image":return e.jsxs("div",{className:"bg-white/50 backdrop-blur rounded-2xl border border-gray-200/50 p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Content-Type: ",s.contentType]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:s.content,alt:"Response",className:"max-w-full h-auto rounded-xl shadow-lg"})})]});case"audio":return e.jsxs("div",{className:"bg-white/50 backdrop-blur rounded-2xl border border-gray-200/50 p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Content-Type: ",s.contentType]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("audio",{controls:!0,src:s.content,className:"w-full max-w-md"})})]});case"video":return e.jsxs("div",{className:"bg-white/50 backdrop-blur rounded-2xl border border-gray-200/50 p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Content-Type: ",s.contentType]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("video",{controls:!0,src:s.content,className:"max-w-full h-auto rounded-xl"})})]});default:return e.jsx("div",{className:"bg-white/50 backdrop-blur rounded-2xl border border-gray-200/50 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Binary Content"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Content-Type: ",s.contentType]}),e.jsxs("a",{href:s.content,download:"response",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl cursor-pointer",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3"})}),"Download Content"]})]})})}};export{q as PlaygroundPage};
